<!DOCTYPE html>
<html lang="en"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="theme-color" content="teal"/>
    
    <link rel="icon" type="image" href="africaOnlineIcon.png"/>

    <title>Malawi Student Study Progress Tracker</title>
    
    <link rel="stylesheet" href="prfiler.css" type="text/css"/>
    <style>
        :root {
            --primary: #1a5f7a;
            --secondary: #159895;
            --accent: #57c5b6;
            --light: #f8f9fa;
            --dark: #343a40;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family:georgia;
            /*font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;*/
        }

        body {
            background: linear-gradient(to right, teal, maroon);
            color: var(--dark);
            line-height: 1.6;
            color:orange;
            border: 1px solid orange;
            border-radius: 6px;
            margin-top: 1px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(to right, teal, maroon);
            /*background: linear-gradient(135deg, var(--primary), var(--secondary));*/
            color: orange;
            padding: 20px 0;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: solid orange 1px;
        }

        header h1 {
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.2rem;
        }

        header p {
            text-align: center;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: linear-gradient(to right, maroon, teal);
            border-radius: 10px;
            padding: 2px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            border: 1px solid orange;
            /* New: Use Flexbox for card content management */
            display: flex;
            flex-direction: column;
        }

        .card h2 {
            color: orange;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent);
            /* New: Center the heading text */
            text-align: center;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            /* CENTER ADJUSTMENT: Limit label width and center block */
            max-width: 90%;
            margin: 0 auto 5px auto;
            text-align: left; /* Keep text left-aligned within the centered label block */
        }

        input, select, textarea {
            /* CENTER ADJUSTMENT: Limit element width, make it a block, and center it */
            width: 100%; /* Take up to 100% of parent width */
            max-width: 90%; /* Maximum width of the element */
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            display: block; /* Required for margin: auto to work */
            margin: 0 auto; /* Center the element horizontally */
        }

        textarea {
            min-height: 80px;
            resize: vertical;
        }

        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
            border: 1px solid gray;
            /* New: Center buttons within the card */
            display: block;
            margin: 10px auto;
            width: 80%; /* Consistent width for centered buttons */
        }

        button:hover {
            background-color: var(--secondary);
        }

        .btn-success {
            background-color: var(--success);
        }

        .btn-danger {
            background-color: var(--danger);
        }

        .btn-warning {
            background-color: var(--warning);
            color: var(--dark);
        }

        .subject-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .subject-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            /* Already centered */
            text-align: center;
            transition: transform 0.3s;
        }

        .subject-card:hover {
            transform: translateY(-5px);
        }

        .subject-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .progress-bar {
            height: 10px;
            background-color: teal;
            border-radius: 5px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--success);
            border-radius: 5px;
        }

        .progress-text {
            font-size: 0.9rem;
            color: var(--dark);
        }

        .subject-details {
            margin-top: 20px;
        }

        .study-session {
            background-color: #f8f9fa;
            border-left: 4px solid var(--accent);
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 0 5px 5px 0;
        }

        .study-session h4 {
            color: var(--primary);
            margin-bottom: 5px;
        }

        .study-session p {
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .session-date {
            font-size: 0.8rem;
            color: #6c757d;
        }

        .no-data {
            text-align: center;
            color: #6c757d;
            padding: 20px;
            font-style: italic;
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
            /* New: Center grid content horizontally */
            text-align: center;
        }

        .stat-card {
            background: orange;
            border-radius: 8px;
            padding: 15px;
            /* Already centered */
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border: solid gray 1px;
        }

        .stat-card h3 {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .stat-card p {
            color: #6c757d;
            font-size: 0.9rem;
        }

        footer {
            text-align: center;
            margin-top: 30px;
            padding: 10px;
            color: #6c757d;
            font-size: 0.8rem;
            border: 1px solid orange;
            border-radius: 6px;
            background: teal;
        }

        .picturee{
            width: 30px;
            height: 30px;
            border: 1px solid orange;
            border-radius: 20px;
            padding: 1px;
        }
        
        /*floating button css*/
    .floating-btn {
      position: fixed;
      bottom: 20px;
      right: 2px;
      background-color:teal;
      color: white;
      border: solid orange 1px;
      border-radius: 50%;
      width: 45px;
      height: 45px;
      font-size: 12px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      z-index: 1000;
      transition: background-color 0.3s; 
    } 

    .floating-btn:hover {
      background-color: orange;
    }
    /*end floating button css*/
    
    .dropdown {
  position: relative;
  display: inline-block;
}

.dropbtn {
  background-color: orange;
  color: teal;
  padding: 10px 16px;
  border: none;
  cursor: pointer;
  font-size: 12px;
  margin: 8px;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 160px;
  box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
  z-index: 1;
  background: linear-gradient(to right, teal, maroon);
  border: solid orange 1px;
  border-radius: 6px;
}

.dropdown-content a {
  padding: 10px 14px;
  display: block;
  text-decoration: none;
  color: orange;
  margin: 20px;
}

.dropdown-content a:hover {
  background-color: teal;
}

.dropdown:hover .dropdown-content {
  display: block;
}

.dropdown:hover .dropbtn {
  background-color: maroon;
}
    </style>
</head>
<body>
	<div class="dropdown">
  <button class="dropbtn">Option</button>
  <div class="dropdown-content">
    <a href="https://salmandascript.github.io/AfricaOnline">üè° Home</a>
    
    <a onclick="color(this); alert('This application is for helping high school students to track their progress as they study for examination, this can improve their academic performance. Try to fill the hours of different subjects with different values to understand how the application works, all data is stored locally on your device');">‚ùì Help</a>
    
   <!-- <a onclick="shareWebsite(); color(this);">üåç Climate</a>-->
    
     <a onclick="shareWebsite(); color(this);">‚Ü™ Share</a>
  </div>
</div>
	
    <div class="container">
        <header>
            <h1><img class="picturee" src="africaOnlineIcon.png"/> Africa Online Study Progress Tracker ‚è≤</h1>
            <p>Track your study progress across all subjects and improve your academic performance</p>
        </header>

        <div class="main-content">
            <div class="left-column">
                <div class="card">
                    <h2>Add Study Session</h2>
                    <form id="study-form">
                        <div class="form-group">
                            <label for="subject">Subject</label>
                            <select id="subject" required>
                                <option value="">Select a subject</option>
                                <option value="Chichewa">Chichewa</option>
                                <option value="English">English</option>
                                <option value="Chemistry">Chemistry</option>
                                <option value="Biology">Biology</option>
                                <option value="Physics">Physics</option>
                                <option value="History">History</option>
                                <option value="Geography">Geography</option>
                                <option value="Agriculture">Agriculture</option>
                                <option value="Social Studies">Social Studies</option>
                                <option value="Computer Studies">Computer Studies</option>
                                <option value="Commerce">Commerce</option>
                                <option value="Mathematics">Mathematics</option>
                                <option value="Bible Knowledge">Bible Knowledge</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="hours">Hours Studied</label>
                            <input type="number" id="hours" min="0.1" step="0.1" required>
                        </div>

                        <div class="form-group">
                            <label for="date">Date</label>
                            <input type="date" id="date" required>
                        </div>

                        <div class="form-group">
                            <label for="topics">Topics Covered</label>
                            <textarea id="topics" placeholder="Enter the topics you studied..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="notes">Notes</label>
                            <textarea id="notes" placeholder="Any additional notes..."></textarea>
                        </div>

                        <button style="background-color: teal; color: orange;" type="submit">Add Study Session</button>
                    </form>
                </div>

                <div class="card">
                    <h2>Quick Actions</h2>
                    <button style="background-color: maroon; color: orange;" id="clear-all" >Clear All Data</button>
                    <button id="export-data" class="btn-warning">Export Data</button>
                </div>
            </div>

            <div class="right-column">
                <div class="card">
                    <h2>Study Progress Overview</h2>
                    <div class="summary-stats">
                        <div class="stat-card">
                            <h3 id="total-hours">0</h3>
                            <p>Total Hours</p>
                        </div>
                        <div class="stat-card">
                            <h3 id="total-sessions">0</h3>
                            <p>Study Sessions</p>
                        </div>
                        <div class="stat-card">
                            <h3 id="subjects-studied">0</h3>
                            <p>Subjects Studied</p>
                        </div>
                    </div>

                    <h3 style="margin-top: 20px; text-align: center; border: none;">Subject Progress</h3>
                    <div class="subject-grid" id="subject-grid">
                        </div>
                </div>

                <div class="card">
                    <h2>Recent Study Sessions</h2>
                    <div id="recent-sessions">
                        </div>
                </div>
            </div>
        </div>
        
        <!--details modal -->
<div id="myModal1" class="modal fade" >
<div class="modal-dialog; modal-lg"> 
<div class="modal-content"> 
<div class="modal-header"> 

<h6 class="modal-title"> Application Information.</h6> 
</div> 
<div class="modal-body; salma">
<p style="color: orange; font-size: 12px; margin: 4px;">App Name:&nbsp; Africa Online <br>
		App Version:&nbsp; 1.0.0.0<br>
	Developer:&nbsp; SM Technology<br>
	
			Location:&nbsp; Lilongwe, Malawi<br>
		Phone:&nbsp; +265 982177920</p>
</div> 
<div class="modal-footer"> 
</button> 
</div> 
</div> 
</div> 
</div>
<!--end details modal -->
        
        <!--floating button-->
	 	<button class="floating-btn" onclick="color(this);scrollToTop(); Gemini();">ü§ñ</button>
	 	
	 	  <script>
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  </script>
  <!--end floating button-->

        <footer style="color: orange;">
            <p>&copy;2025 SMTechnology Study Progress Tracker</p>
        </footer>
    </div>

    <script>
        // Initialize data structure
        let studyData = {
            sessions: [],
            subjects: {
                "Chichewa": { totalHours: 0, sessions: [] },
                "English": { totalHours: 0, sessions: [] },
                "Chemistry": { totalHours: 0, sessions: [] },
                "Biology": { totalHours: 0, sessions: [] },
                "Physics": { totalHours: 0, sessions: [] },
                "History": { totalHours: 0, sessions: [] },
                "Geography": { totalHours: 0, sessions: [] },
                "Agriculture": { totalHours: 0, sessions: [] },
                "Social Studies": { totalHours: 0, sessions: [] },
                "Computer Studies": { totalHours: 0, sessions: [] },
                "Commerce": { totalHours: 0, sessions: [] },
                "Mathematics": { totalHours: 0, sessions: [] },
                "Bible Knowledge": { totalHours: 0, sessions: [] }
            }
        };

        // DOM elements
        const studyForm = document.getElementById('study-form');
        const subjectGrid = document.getElementById('subject-grid');
        const recentSessions = document.getElementById('recent-sessions');
        const totalHoursEl = document.getElementById('total-hours');
        const totalSessionsEl = document.getElementById('total-sessions');
        const subjectsStudiedEl = document.getElementById('subjects-studied');
        const clearAllBtn = document.getElementById('clear-all');
        const exportDataBtn = document.getElementById('export-data');

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            renderSubjectCards();
            renderRecentSessions();
            updateSummaryStats();

            // Set today's date as default
            document.getElementById('date').valueAsDate = new Date();
        });

        // Load data from localStorage
        function loadData() {
            const savedData = localStorage.getItem('malawiStudyTracker');
            if (savedData) {
                studyData = JSON.parse(savedData);
            }
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('malawiStudyTracker', JSON.stringify(studyData));
        }

        // Handle form submission
        studyForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const subject = document.getElementById('subject').value;
            const hours = parseFloat(document.getElementById('hours').value);
            const date = document.getElementById('date').value;
            const topics = document.getElementById('topics').value;
            const notes = document.getElementById('notes').value;

            // Create new session
            const newSession = {
                id: Date.now(),
                subject,
                hours,
                date,
                topics,
                notes,
                timestamp: new Date().toISOString()
            };

            // Add to data
            studyData.sessions.unshift(newSession);
            studyData.subjects[subject].totalHours += hours;
            studyData.subjects[subject].sessions.unshift(newSession);

            // Save and update UI
            saveData();
            renderSubjectCards();
            renderRecentSessions();
            updateSummaryStats();

            // Reset form
            studyForm.reset();
            document.getElementById('date').valueAsDate = new Date();

            alert('Study session added successfully!');
        });

        // Render subject cards
        function renderSubjectCards() {
            subjectGrid.innerHTML = '';

            const subjects = Object.keys(studyData.subjects);
            const maxHours = Math.max(...subjects.map(subject => studyData.subjects[subject].totalHours), 1);

            subjects.forEach(subject => {
                const subjectData = studyData.subjects[subject];
                const percentage = Math.min((subjectData.totalHours / maxHours) * 100, 100);

                const card = document.createElement('div');
                card.className = 'subject-card';
                card.innerHTML = `
                    <h3>${subject}</h3>
                    <div class="progress-bar">
                        <div class="progress" style="width: ${percentage}%"></div>
                    </div>
                    <div class="progress-text">${subjectData.totalHours.toFixed(1)} hours</div>
                    <div class="progress-text">${subjectData.sessions.length} sessions</div>
                `;

                subjectGrid.appendChild(card);
            });
        }

        // Render recent study sessions
        function renderRecentSessions() {
            recentSessions.innerHTML = '';

            if (studyData.sessions.length === 0) {
                recentSessions.innerHTML = '<div class="no-data">No study sessions recorded yet</div>';
                return;
            }

            // Show only the 5 most recent sessions
            const recent = studyData.sessions.slice(0, 5);

            recent.forEach(session => {
                const sessionEl = document.createElement('div');
                sessionEl.className = 'study-session';
                sessionEl.innerHTML = `
                    <h4>${session.subject}</h4>
                    <p><strong>${session.hours} hours</strong> - ${session.topics || 'No topics specified'}</p>
                    <p class="session-date">${formatDate(session.date)}</p>
                `;

                recentSessions.appendChild(sessionEl);
            });
        }

        // Update summary statistics
        function updateSummaryStats() {
            const totalHours = studyData.sessions.reduce((sum, session) => sum + session.hours, 0);
            const totalSessions = studyData.sessions.length;
            const subjectsStudied = Object.values(studyData.subjects).filter(subject => subject.sessions.length > 0).length;

            totalHoursEl.textContent = totalHours.toFixed(1);
            totalSessionsEl.textContent = totalSessions;
            subjectsStudiedEl.textContent = subjectsStudied;
        }

        // Format date for display
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }

        // Clear all data
        clearAllBtn.addEventListener('click', function() {
            if (confirm('Are you sure you want to clear all study data? This action cannot be undone.')) {
                studyData = {
                    sessions: [],
                    subjects: {
                        "Chichewa": { totalHours: 0, sessions: [] },
                        "English": { totalHours: 0, sessions: [] },
                        "Chemistry": { totalHours: 0, sessions: [] },
                        "Biology": { totalHours: 0, sessions: [] },
                        "Physics": { totalHours: 0, sessions: [] },
                        "History": { totalHours: 0, sessions: [] },
                        "Geography": { totalHours: 0, sessions: [] },
                        "Agriculture": { totalHours: 0, sessions: [] },
                        "Social Studies": { totalHours: 0, sessions: [] },
                        "Computer Studies": { totalHours: 0, sessions: [] },
                        "Commerce": { totalHours: 0, sessions: [] },
                        "Mathematics": { totalHours: 0, sessions: [] },
                        "Bible Knowledge": { totalHours: 0, sessions: [] }
                    }
                };

                saveData();
                renderSubjectCards();
                renderRecentSessions();
                updateSummaryStats();

                alert('All data has been cleared.');
            }
        });

        // Export data as JSON
        exportDataBtn.addEventListener('click', function() {
            const dataStr = JSON.stringify(studyData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });

            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'malawi-study-data.json';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            alert('Study data exported successfully!');
        });
    </script>
    
    <script src="profiler.js"></script>
</body>
</html>
